{"version":3,"file":"OneOpenAtATime-fee01c77.js","sources":["../../../../node_modules/.pnpm/@mantine+hooks@5.4.2_react@17.0.2/node_modules/@mantine/hooks/esm/use-isomorphic-effect/use-isomorphic-effect.js","../../../../node_modules/.pnpm/@mantine+hooks@5.4.2_react@17.0.2/node_modules/@mantine/hooks/esm/use-id/use-id.js","../../src/utils/OneOpenAtATime.tsx"],"sourcesContent":["import { useLayoutEffect, useEffect } from 'react';\n\nconst useIsomorphicEffect = typeof document !== \"undefined\" ? useLayoutEffect : useEffect;\n\nexport { useIsomorphicEffect };\n//# sourceMappingURL=use-isomorphic-effect.js.map\n","import React, { useState } from 'react';\nimport { useIsomorphicEffect } from '../use-isomorphic-effect/use-isomorphic-effect.js';\n\nconst randomId = () => `mantine-${Math.random().toString(36).slice(2, 11)}`;\nconst useReactId = React[\"useId\".toString()] || (() => void 0);\nfunction useClientId() {\n  const [uuid, setUuid] = useState(\"\");\n  useIsomorphicEffect(() => {\n    setUuid(randomId());\n  }, []);\n  return uuid;\n}\nfunction getReactId() {\n  const id = useReactId();\n  return id ? `mantine-${id.replace(/:/g, \"\")}` : \"\";\n}\nfunction useId(staticId) {\n  return typeof staticId === \"string\" ? staticId : getReactId() || useClientId();\n}\n\nexport { useId };\n//# sourceMappingURL=use-id.js.map\n","import { useId } from '@mantine/hooks'\r\nimport { createContext, useContext, useEffect, useState } from 'react'\r\nimport { WithChildren } from 'ui/src/utils/WithChildren'\r\n\r\nconst context = createContext<{\r\n  open: false | string\r\n  setOpen: (s: string | false) => void\r\n}>({ open: false, setOpen: () => console.error('no context assigned') })\r\n\r\nexport const useOneState = (initial?: boolean) => {\r\n  const id = useId()\r\n  const { open, setOpen } = useContext(context)\r\n  const [_open, _setOpen] = useState(open === id)\r\n  useEffect(() => {\r\n    if (initial) setOpen(id)\r\n  }, [initial])\r\n  useEffect(() => {\r\n    if (open === id) _setOpen(true)\r\n    else _setOpen(false)\r\n  }, [open])\r\n\r\n  return [\r\n    _open,\r\n    function (arg: boolean | ((old: boolean) => boolean)) {\r\n      if (typeof arg === 'function') {\r\n        const rt = arg(_open)\r\n        return rt ? setOpen(id) : setOpen(false)\r\n      }\r\n      if (arg) setOpen(id)\r\n      else setOpen(false)\r\n    },\r\n  ] as const\r\n}\r\n\r\nexport const OneStateProvider = ({ children }: WithChildren) => {\r\n  const [open, setOpen] = useState<false | string>(false)\r\n  return (\r\n    <context.Provider value={{ open, setOpen }}>{children}</context.Provider>\r\n  )\r\n}\r\n"],"names":["useIsomorphicEffect","document","useLayoutEffect","useEffect","randomId","Math","random","toString","slice","useReactId","React","useClientId","uuid","setUuid","useState","getReactId","id","replace","useId","staticId","context","createContext","useOneState","initial","open","setOpen","_open","_setOpen","arg","rt","OneStateProvider","children","__cssprop"],"mappings":"0EAEA,MAAMA,EAAsB,OAAOC,SAAa,IAAcC,EAAe,gBAAGC,EAAS,UCCnFC,EAAWA,IAAO,WAAUC,KAAKC,OAAM,EAAGC,SAAS,EAAE,EAAEC,MAAM,EAAG,EAAE,IAClEC,EAAaC,EAAM,QAAQH,SAAU,CAAA,IAAM,IAAA,IACjD,SAASI,GAAc,CACrB,KAAM,CAACC,EAAMC,CAAO,EAAIC,EAAQ,SAAC,EAAE,EACnCd,OAAAA,EAAoB,IAAM,CACxBa,EAAQT,EAAQ,CAAE,CACnB,EAAE,CAAE,CAAA,EACEQ,CACT,CACA,SAASG,GAAa,CACpB,MAAMC,EAAKP,IACX,OAAOO,EAAM,WAAUA,EAAGC,QAAQ,KAAM,EAAE,IAAM,EAClD,CACA,SAASC,EAAMC,EAAU,CACvB,OAAO,OAAOA,GAAa,SAAWA,EAAWJ,EAAU,GAAMJ,GACnE,CCdA,MAAAS,EAAAC,EAAAA,cAAA,CAGG,KAAA,GAAQ,QAAA,IAAA,QAAA,MAAA,qBAAA,CAA2D,CAAA,EAE/DC,EAAAC,GAAA,CACL,MAAAP,EAAAE,IACA,CAAM,KAAAM,EAAEA,QAAAA,CAAMC,EAAAA,EAAAA,WAAAA,CAAAA,EACd,CAAAC,EAAAC,CAAA,EAAAb,EAAAA,SAAAU,IAAAR,CAAA,EACAb,OAAAA,EAAAA,UAAAA,IAAAA,CACEoB,GAAaE,EAAAA,CAAAA,CAAU,EAAA,CAAAF,CAAA,CAAA,EAEzBpB,EAAAA,UAAAA,IAAAA,CACmBwB,EAAjBH,IAAAR,CAAiBW,CACE,EAAA,CAAAH,CAAA,CAAA,EAGrB,CAAAE,EAAA,SAAAE,EAAA,CAGI,GAAA,OAAAA,GAAA,WAAA,CACE,MAAAC,EAAAD,EAAAF,CAAA,EACA,OAAAD,EAAAI,EAAAb,EAAA,EAAA,EAEOS,EAATG,EAASH,EACJA,EADIA,CACS,CAAA,CAGxB,EAEOK,EAAA,CAAA,CAA0B,SAAAC,CAAyB,IAAA,CACxD,KAAA,CAAAP,EAAAC,CAAA,EAAAX,EAAA,SAAA,EAAA,EACA,OAAAkB,EAAAZ,EAAA,SAAA,CACmB,MAAA,CAAQ,KAAAI,EAAEA,QAAAA,CAAMC,CAAQ,EAAAM,CAAA,CAE7C","x_google_ignoreList":[0,1]}